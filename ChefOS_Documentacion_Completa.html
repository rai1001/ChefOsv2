<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChefOS v2.0 - Documentaci√≥n Completa</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #e2e8f0;
            background: linear-gradient(135deg, #1a1d1f 0%, #111315 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(26, 29, 31, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #22c55e 0%, #10b981 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .header .version {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .header .date {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: 10px;
        }

        /* Navigation */
        .nav {
            background: #1a1d1f;
            padding: 20px;
            border-bottom: 2px solid rgba(34, 197, 94, 0.3);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }

        .nav a {
            color: #94a3b8;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .nav a:hover {
            background: rgba(34, 197, 94, 0.1);
            color: #22c55e;
        }

        /* Content */
        .content {
            padding: 40px;
        }

        section {
            margin-bottom: 60px;
            scroll-margin-top: 80px;
        }

        h2 {
            color: #22c55e;
            font-size: 2.5rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid rgba(34, 197, 94, 0.3);
        }

        h3 {
            color: #10b981;
            font-size: 1.8rem;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        h4 {
            color: #94a3b8;
            font-size: 1.3rem;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        p {
            margin-bottom: 15px;
            color: #cbd5e1;
        }

        /* Lists */
        ul, ol {
            margin-left: 30px;
            margin-bottom: 20px;
        }

        li {
            margin-bottom: 8px;
            color: #cbd5e1;
        }

        /* Cards */
        .card {
            background: rgba(30, 33, 36, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card h4 {
            color: #22c55e;
            margin-top: 0;
        }

        /* Code Blocks */
        pre {
            background: #0f1214;
            border: 1px solid rgba(34, 197, 94, 0.2);
            border-radius: 8px;
            padding: 20px;
            overflow-x: auto;
            margin-bottom: 20px;
        }

        code {
            color: #22c55e;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        /* Table */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
            background: rgba(30, 33, 36, 0.4);
            border-radius: 8px;
            overflow: hidden;
        }

        th {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        tr:hover {
            background: rgba(34, 197, 94, 0.05);
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-right: 8px;
            margin-bottom: 8px;
        }

        .badge-green {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }

        .badge-blue {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
        }

        .badge-yellow {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
        }

        .badge-red {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }

        /* Feature List */
        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .feature-item {
            background: rgba(30, 33, 36, 0.5);
            border-left: 3px solid #22c55e;
            padding: 15px;
            border-radius: 8px;
        }

        .feature-item strong {
            color: #22c55e;
        }

        /* Alert */
        .alert {
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid;
        }

        .alert-info {
            background: rgba(59, 130, 246, 0.1);
            border-color: #3b82f6;
            color: #93c5fd;
        }

        .alert-warning {
            background: rgba(245, 158, 11, 0.1);
            border-color: #f59e0b;
            color: #fbbf24;
        }

        .alert-success {
            background: rgba(34, 197, 94, 0.1);
            border-color: #22c55e;
            color: #86efac;
        }

        /* Footer */
        .footer {
            background: #0f1214;
            padding: 30px;
            text-align: center;
            color: #64748b;
            border-top: 2px solid rgba(34, 197, 94, 0.2);
        }

        .footer a {
            color: #22c55e;
            text-decoration: none;
        }

        /* Print Styles */
        @media print {
            body {
                background: white;
                color: black;
            }

            .container {
                box-shadow: none;
            }

            .nav {
                display: none;
            }

            .header {
                background: #22c55e;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .content {
                padding: 20px;
            }

            .nav ul {
                flex-direction: column;
            }

            h2 {
                font-size: 1.8rem;
            }
        }

        .toc {
            background: rgba(30, 33, 36, 0.6);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 40px;
        }

        .toc h3 {
            margin-top: 0;
            color: #22c55e;
        }

        .toc ul {
            list-style: none;
            margin-left: 0;
        }

        .toc li {
            margin-bottom: 12px;
        }

        .toc a {
            color: #94a3b8;
            text-decoration: none;
            transition: color 0.3s;
            padding: 5px 10px;
            display: inline-block;
        }

        .toc a:hover {
            color: #22c55e;
        }

        .module-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .module-card {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.05) 0%, rgba(16, 185, 129, 0.05) 100%);
            border: 1px solid rgba(34, 197, 94, 0.2);
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s;
        }

        .module-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(34, 197, 94, 0.2);
        }

        .module-card h4 {
            color: #22c55e;
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .module-card .route {
            color: #64748b;
            font-size: 0.85rem;
            font-family: 'Courier New', monospace;
            margin-bottom: 10px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%);
            border: 1px solid rgba(34, 197, 94, 0.3);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 900;
            color: #22c55e;
            display: block;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #94a3b8;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üç≥ ChefOS v2.0</h1>
            <p class="version">Documentaci√≥n Completa - SaaS de Gesti√≥n para Cocinas Profesionales</p>
            <p class="date">üìÖ √öltima actualizaci√≥n: 4 de Enero de 2026</p>
        </div>

        <!-- Navigation -->
        <nav class="nav">
            <ul>
                <li><a href="#resumen">üìã Resumen</a></li>
                <li><a href="#funcionalidades">‚ö° Funcionalidades</a></li>
                <li><a href="#modulos">üì± M√≥dulos</a></li>
                <li><a href="#diseno">üé® Dise√±o</a></li>
                <li><a href="#arquitectura">üèóÔ∏è Arquitectura</a></li>
                <li><a href="#supabase">üîß Supabase</a></li>
                <li><a href="#flujos">üîÑ Flujos</a></li>
                <li><a href="#instalacion">üöÄ Instalaci√≥n</a></li>
            </ul>
        </nav>

        <!-- Content -->
        <div class="content">

            <!-- Tabla de Contenidos -->
            <div class="toc">
                <h3>üìö √çndice de Contenidos</h3>
                <ul>
                    <li><a href="#resumen">1. Resumen Ejecutivo</a></li>
                    <li><a href="#funcionalidades">2. Funcionalidades Core (7 Pilares)</a></li>
                    <li><a href="#modulos">3. M√≥dulos de la Aplicaci√≥n (20+ P√°ginas)</a></li>
                    <li><a href="#diseno">4. Sistema de Dise√±o y Estilo UI</a></li>
                    <li><a href="#arquitectura">5. Arquitectura T√©cnica</a></li>
                    <li><a href="#supabase">6. Gu√≠a de Acceso a Supabase</a></li>
                    <li><a href="#flujos">7. Flujos de Usuario</a></li>
                    <li><a href="#seguridad">8. Seguridad y Permisos</a></li>
                    <li><a href="#kpis">9. KPIs y M√©tricas</a></li>
                    <li><a href="#instalacion">10. Instalaci√≥n y Configuraci√≥n</a></li>
                </ul>
            </div>

            <!-- Resumen Ejecutivo -->
            <section id="resumen">
                <h2>üìã Resumen Ejecutivo</h2>

                <div class="alert alert-success">
                    <strong>ChefOS v2.0</strong> es una plataforma SaaS completa para la gesti√≥n integral de cocinas profesionales, restaurantes y hoteles. Combina gesti√≥n operativa, an√°lisis de datos avanzados y herramientas de IA para optimizar todos los aspectos de una cocina profesional.
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-number">20+</span>
                        <span class="stat-label">M√≥dulos</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">7</span>
                        <span class="stat-label">Pilares Core</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">4</span>
                        <span class="stat-label">Edge Functions IA</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">100%</span>
                        <span class="stat-label">TypeScript</span>
                    </div>
                </div>

                <h3>Caracter√≠sticas Principales</h3>
                <div class="feature-list">
                    <div class="feature-item">
                        <strong>‚úÖ Gesti√≥n Multi-Outlet:</strong> Soporte para m√∫ltiples establecimientos
                    </div>
                    <div class="feature-item">
                        <strong>‚úÖ IA Integrada:</strong> Gemini 2.0 para automatizaci√≥n
                    </div>
                    <div class="feature-item">
                        <strong>‚úÖ Clean Architecture:</strong> C√≥digo mantenible y escalable
                    </div>
                    <div class="feature-item">
                        <strong>‚úÖ UI Premium:</strong> Glassmorphism con efectos glow
                    </div>
                    <div class="feature-item">
                        <strong>‚úÖ Tiempo Real:</strong> Supabase realtime subscriptions
                    </div>
                    <div class="feature-item">
                        <strong>‚úÖ PWA Ready:</strong> Instalable como app nativa
                    </div>
                </div>
            </section>

            <!-- Funcionalidades Core -->
            <section id="funcionalidades">
                <h2>‚ö° Funcionalidades Core - 7 Pilares</h2>

                <div class="card-grid">
                    <div class="card">
                        <h4>üì¶ 1. Gesti√≥n de Inventario FIFO</h4>
                        <ul>
                            <li>Control de lotes con trazabilidad completa</li>
                            <li>Seguimiento de caducidad autom√°tico</li>
                            <li>Alertas de stock bajo</li>
                            <li>Rotaci√≥n FIFO (First In, First Out)</li>
                            <li>Valoraci√≥n de inventario en tiempo real</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h4>üìã 2. Fichas T√©cnicas Versionadas</h4>
                        <ul>
                            <li>C√°lculo autom√°tico de costos</li>
                            <li>Historial completo de versiones</li>
                            <li>C√°lculo nutricional autom√°tico</li>
                            <li>Gesti√≥n de al√©rgenos (EU 1169/2011)</li>
                            <li>Export a PDF profesional</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h4>üõí 3. Compras Autom√°ticas</h4>
                        <ul>
                            <li>Generaci√≥n basada en demanda predecible</li>
                            <li>Integraci√≥n con proveedores</li>
                            <li>Comparaci√≥n de precios</li>
                            <li>Gesti√≥n de albaranes y facturas</li>
                            <li>Escaneo de facturas con IA</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h4>üî¨ 4. HACCP Digital</h4>
                        <ul>
                            <li>Control de puntos cr√≠ticos</li>
                            <li>Registro de temperaturas</li>
                            <li>Alertas cr√≠ticas autom√°ticas</li>
                            <li>Trazabilidad completa</li>
                            <li>Cumplimiento normativo</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h4>üè≠ 5. Producci√≥n Kanban</h4>
                        <ul>
                            <li>Scheduling inteligente</li>
                            <li>Gesti√≥n de √≥rdenes en tiempo real</li>
                            <li>Kitchen Display System (KDS)</li>
                            <li>Modo tablet para cocina</li>
                            <li>Optimizaci√≥n de tiempos</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h4>üìä 6. Analytics & Menu Engineering</h4>
                        <ul>
                            <li>Matriz de Boston para men√∫s</li>
                            <li>An√°lisis de rentabilidad por plato</li>
                            <li>KPIs en tiempo real</li>
                            <li>Dashboards interactivos</li>
                            <li>Reportes autom√°ticos</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h4>ü§ñ 7. Integraci√≥n de IA (Gemini 2.0)</h4>
                        <ul>
                            <li>Escaneo autom√°tico de facturas</li>
                            <li>Procesamiento de BEO</li>
                            <li>Enriquecimiento de ingredientes</li>
                            <li>Zero Waste Engine</li>
                            <li>Generaci√≥n de contenido social media</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- M√≥dulos -->
            <section id="modulos">
                <h2>üì± M√≥dulos de la Aplicaci√≥n</h2>

                <h3>üè† Dashboard (Inicio)</h3>
                <div class="card">
                    <p class="route"><strong>Ruta:</strong> /dashboard</p>
                    <p>Panel principal con visi√≥n 360¬∞ de la operaci√≥n:</p>
                    <ul>
                        <li><strong>KPIs en Tiempo Real:</strong> Ventas, costos, mermas, personal</li>
                        <li><strong>Widgets Configurables:</strong>
                            <ul>
                                <li>Horario semanal del personal</li>
                                <li>Eventos mensuales</li>
                                <li>Producci√≥n semanal</li>
                                <li>√ìrdenes pendientes</li>
                                <li>Alertas cr√≠ticas</li>
                                <li>Notas de compra</li>
                                <li>Zero Waste Widget</li>
                            </ul>
                        </li>
                        <li><strong>Quick Shortcuts:</strong> Acciones frecuentes</li>
                        <li><strong>Export/Import:</strong> Backup de datos</li>
                    </ul>
                </div>

                <h3>üìÖ Log√≠stica / Operaciones</h3>
                <div class="module-grid">
                    <div class="module-card">
                        <h4>üìÖ Horarios</h4>
                        <p class="route">/schedule</p>
                        <p>Gesti√≥n de turnos del personal, calendario visual, control de horas</p>
                    </div>

                    <div class="module-card">
                        <h4>üéâ Eventos / BEO</h4>
                        <p class="route">/events</p>
                        <p>Gesti√≥n de eventos y banquetes, procesamiento autom√°tico de BEO con IA</p>
                    </div>

                    <div class="module-card">
                        <h4>üè® Log√≠stica Hotel</h4>
                        <p class="route">/logistics</p>
                        <p>Gesti√≥n de desayunos, room service, coordinaci√≥n con recepci√≥n</p>
                        <span class="badge badge-blue">Solo Hoteles</span>
                    </div>

                    <div class="module-card">
                        <h4>üõí Compras Auto</h4>
                        <p class="route">/purchasing</p>
                        <p>Pedidos autom√°ticos basados en demanda, gesti√≥n de proveedores</p>
                    </div>

                    <div class="module-card">
                        <h4>üóëÔ∏è Mermas</h4>
                        <p class="route">/waste</p>
                        <p>Registro de desperdicios, an√°lisis de causas, Zero Waste Engine</p>
                    </div>

                    <div class="module-card">
                        <h4>üî¨ HACCP Digital</h4>
                        <p class="route">/haccp</p>
                        <p>Puntos de control cr√≠tico, registro de temperaturas, alertas</p>
                    </div>

                    <div class="module-card">
                        <h4>üìä Ingenier√≠a de Men√∫</h4>
                        <p class="route">/menu-engineering</p>
                        <p>Matriz de Boston, an√°lisis de popularidad y rentabilidad</p>
                    </div>
                </div>

                <h3>üìñ Estrategia de Men√∫s</h3>
                <div class="module-grid">
                    <div class="module-card">
                        <h4>üìñ Mis Men√∫s</h4>
                        <p class="route">/menu</p>
                        <p>Gesti√≥n de cartas y men√∫s, dise√±o visual, c√°lculo de costos</p>
                    </div>

                    <div class="module-card">
                        <h4>üìã Fichas T√©cnicas</h4>
                        <p class="route">/fichas</p>
                        <p>Recetas detalladas, costos, nutrici√≥n, al√©rgenos, export PDF</p>
                    </div>

                    <div class="module-card">
                        <h4>‚ú® Social Manager Pro</h4>
                        <p class="route">/social-manager</p>
                        <p>Generaci√≥n de contenido con IA, programaci√≥n de publicaciones</p>
                    </div>

                    <div class="module-card">
                        <h4>ü§ñ Funciones IA</h4>
                        <p class="route">/ai-features</p>
                        <p>Escaneo de documentos, enriquecimiento, generaci√≥n de recetas</p>
                    </div>

                    <div class="module-card">
                        <h4>üìà IA Telemetr√≠a</h4>
                        <p class="route">/ai-telemetry</p>
                        <p>Monitoreo de uso de IA, costos por funci√≥n, m√©tricas de tokens</p>
                    </div>
                </div>

                <h3>üóÑÔ∏è Gesti√≥n Base</h3>
                <div class="module-grid">
                    <div class="module-card">
                        <h4>üì¶ Ingredientes</h4>
                        <p class="route">/ingredients</p>
                        <p>Cat√°logo completo, informaci√≥n nutricional, al√©rgenos, proveedores</p>
                    </div>

                    <div class="module-card">
                        <h4>üìä Inventario</h4>
                        <p class="route">/inventory</p>
                        <p>Control de stock FIFO, alertas, valoraci√≥n, trazabilidad</p>
                    </div>

                    <div class="module-card">
                        <h4>üë®‚Äçüç≥ Recetas</h4>
                        <p class="route">/recipes</p>
                        <p>Biblioteca de recetas, escalado autom√°tico, c√°lculo de costos</p>
                    </div>

                    <div class="module-card">
                        <h4>üöö Proveedores</h4>
                        <p class="route">/suppliers</p>
                        <p>Gesti√≥n de proveedores, cat√°logos, comparaci√≥n de precios</p>
                    </div>

                    <div class="module-card">
                        <h4>üë• Personal</h4>
                        <p class="route">/staff</p>
                        <p>Gesti√≥n de empleados, roles, permisos, horarios</p>
                    </div>
                </div>

                <h3>‚ö° Producci√≥n / Modo KDS</h3>
                <div class="module-grid">
                    <div class="module-card">
                        <h4>üè≠ Producci√≥n</h4>
                        <p class="route">/production</p>
                        <p>√ìrdenes de producci√≥n, scheduling, asignaci√≥n de recursos</p>
                    </div>

                    <div class="module-card">
                        <h4>üì± Modo KDS (Tablet)</h4>
                        <p class="route">/kds</p>
                        <p>Kitchen Display System, vista optimizada para tablet, tiempo real</p>
                    </div>
                </div>
            </section>

            <!-- Dise√±o -->
            <section id="diseno">
                <h2>üé® Sistema de Dise√±o y Estilo UI</h2>

                <h3>Paleta de Colores</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Color</th>
                            <th>Valor</th>
                            <th>Uso</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>üñ§ Background</td>
                            <td><code>#111315</code></td>
                            <td>Fondo principal (Deep dark)</td>
                        </tr>
                        <tr>
                            <td>üé¥ Surface</td>
                            <td><code>#1A1D1F</code></td>
                            <td>Background de tarjetas</td>
                        </tr>
                        <tr>
                            <td>üíö Primary</td>
                            <td><code>#22c55e</code></td>
                            <td>Acento principal (Vibrant Green)</td>
                        </tr>
                        <tr>
                            <td>üü¢ Accent</td>
                            <td><code>#10b981</code></td>
                            <td>Acento complementario (Emerald)</td>
                        </tr>
                        <tr>
                            <td>‚ö†Ô∏è Warning</td>
                            <td><code>#f59e0b</code></td>
                            <td>Advertencias (Amber)</td>
                        </tr>
                        <tr>
                            <td>‚ùå Error</td>
                            <td><code>#ef4444</code></td>
                            <td>Errores (Red)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Efectos Visuales Premium</h3>
                <div class="card-grid">
                    <div class="card">
                        <h4>‚ú® Glassmorphism</h4>
                        <pre><code>background: rgba(26, 29, 31, 0.7);
backdrop-filter: blur(32px);
border: 1px solid rgba(255, 255, 255, 0.1);
box-shadow: 0 8px 32px rgba(0, 0, 0, 0.45);</code></pre>
                        <p><strong>Uso:</strong> Tarjetas, modales, sidebar m√≥vil</p>
                    </div>

                    <div class="card">
                        <h4>üí´ Glow Effects</h4>
                        <pre><code>.glow-border:hover {
  border-color: rgba(34, 197, 94, 0.4);
  box-shadow: 0 0 20px rgba(34, 197, 94, 0.2);
}</code></pre>
                        <p><strong>Uso:</strong> Hover en tarjetas, t√≠tulos principales, botones</p>
                    </div>
                </div>

                <h3>Tipograf√≠a</h3>
                <div class="card">
                    <p><strong>Familia:</strong> Inter (sans-serif moderno)</p>
                    <p><strong>Escala:</strong></p>
                    <ul>
                        <li><code>h1: 4xl-5xl</code> (2.25-3rem) - T√≠tulos de p√°gina</li>
                        <li><code>h2: 3xl</code> (1.875rem) - Secciones principales</li>
                        <li><code>h3: 2xl</code> (1.5rem) - Subsecciones</li>
                        <li><code>h4: xl</code> (1.25rem) - Widgets</li>
                        <li><code>body: base</code> (1rem) - Texto normal</li>
                        <li><code>small: sm</code> (0.875rem) - Texto secundario</li>
                    </ul>
                </div>
            </section>

            <!-- Arquitectura -->
            <section id="arquitectura">
                <h2>üèóÔ∏è Arquitectura T√©cnica</h2>

                <h3>Stack Tecnol√≥gico</h3>
                <div class="card-grid">
                    <div class="card">
                        <h4>Frontend</h4>
                        <ul>
                            <li><span class="badge badge-green">React 19</span></li>
                            <li><span class="badge badge-blue">TypeScript</span></li>
                            <li><span class="badge badge-green">Vite 6</span></li>
                            <li><span class="badge badge-blue">Tailwind CSS 3.4</span></li>
                            <li><span class="badge badge-green">React Router 7</span></li>
                            <li><span class="badge badge-blue">Zustand + Jotai</span></li>
                        </ul>
                    </div>

                    <div class="card">
                        <h4>Backend</h4>
                        <ul>
                            <li><span class="badge badge-green">Supabase (Principal)</span></li>
                            <li>PostgreSQL + RLS</li>
                            <li>Realtime subscriptions</li>
                            <li>Edge Functions (Deno)</li>
                            <li>Authentication</li>
                            <li>Storage</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h4>IA / ML</h4>
                        <ul>
                            <li><span class="badge badge-yellow">Gemini 2.0 Flash</span></li>
                            <li>scan-document (OCR)</li>
                            <li>enrich-ingredient</li>
                            <li>chat-copilot</li>
                            <li>generate-menu</li>
                        </ul>
                    </div>
                </div>

                <h3>Clean Architecture</h3>
                <pre><code>packages/web/src/
‚îú‚îÄ‚îÄ domain/              # Entidades de negocio
‚îÇ   ‚îú‚îÄ‚îÄ entities/        # Ingredient, Recipe, Order...
‚îÇ   ‚îú‚îÄ‚îÄ value-objects/   # Money, Quantity, DateRange...
‚îÇ   ‚îî‚îÄ‚îÄ interfaces/      # Contratos de repositorios
‚îú‚îÄ‚îÄ application/         # Casos de uso
‚îÇ   ‚îú‚îÄ‚îÄ use-cases/       # CreateRecipe, ProcessOrder...
‚îÇ   ‚îî‚îÄ‚îÄ di/              # Inversify container
‚îú‚îÄ‚îÄ infrastructure/      # Implementaciones
‚îÇ   ‚îú‚îÄ‚îÄ repositories/    # Supabase, Firebase adapters
‚îÇ   ‚îî‚îÄ‚îÄ services/        # APIs externas
‚îî‚îÄ‚îÄ presentation/        # UI Layer
    ‚îú‚îÄ‚îÄ pages/           # P√°ginas de ruta
    ‚îú‚îÄ‚îÄ components/      # Componentes React
    ‚îú‚îÄ‚îÄ hooks/           # Custom hooks
    ‚îî‚îÄ‚îÄ store/           # Estado global</code></pre>
            </section>

            <!-- Supabase -->
            <section id="supabase">
                <h2>üîß Gu√≠a de Acceso a Supabase</h2>

                <div class="alert alert-info">
                    <strong>URL del Proyecto:</strong> https://xrgewhvijmrthsnrrxdw.supabase.co
                </div>

                <h3>Credenciales</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Tipo</th>
                            <th>Uso</th>
                            <th>Permisos</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ANON_KEY</strong></td>
                            <td>Frontend p√∫blico</td>
                            <td>Limitado con RLS</td>
                        </tr>
                        <tr>
                            <td><strong>SERVICE_ROLE_KEY</strong></td>
                            <td>Backend/Scripts admin</td>
                            <td>‚ö†Ô∏è Acceso total</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Edge Functions Desplegadas</h3>
                <div class="card-grid">
                    <div class="card">
                        <h4>scan-document</h4>
                        <p><strong>Prop√≥sito:</strong> Escanea facturas, men√∫s deportivos, albaranes usando Gemini Vision AI</p>
                        <p><strong>Modelo:</strong> gemini-2.0-flash-exp</p>
                        <p><strong>Endpoint:</strong></p>
                        <pre><code>POST /functions/v1/scan-document</code></pre>
                    </div>

                    <div class="card">
                        <h4>enrich-ingredient</h4>
                        <p><strong>Prop√≥sito:</strong> Enriquece ingredientes con informaci√≥n nutricional y al√©rgenos</p>
                        <p><strong>Cumple con:</strong> EU Regulation 1169/2011</p>
                        <pre><code>POST /functions/v1/enrich-ingredient</code></pre>
                    </div>

                    <div class="card">
                        <h4>chat-copilot</h4>
                        <p><strong>Prop√≥sito:</strong> Chatbot AI para asistencia en la aplicaci√≥n</p>
                        <pre><code>POST /functions/v1/chat-copilot</code></pre>
                    </div>

                    <div class="card">
                        <h4>generate-menu</h4>
                        <p><strong>Prop√≥sito:</strong> Generaci√≥n autom√°tica de men√∫s</p>
                        <pre><code>POST /functions/v1/generate-menu</code></pre>
                    </div>
                </div>

                <h3>Herramientas de Administraci√≥n</h3>
                <div class="feature-list">
                    <div class="feature-item">
                        <strong>supabase-admin-panel.html:</strong> Panel web visual con acceso completo
                    </div>
                    <div class="feature-item">
                        <strong>supabase-explore-api.ts:</strong> Explorador de BD por terminal
                    </div>
                    <div class="feature-item">
                        <strong>supabase-admin-client.ts:</strong> Cliente CLI administrativo
                    </div>
                    <div class="feature-item">
                        <strong>test-supabase-connection.ts:</strong> Test de conectividad
                    </div>
                </div>

                <div class="alert alert-warning">
                    <strong>‚ö†Ô∏è Seguridad:</strong> NUNCA exponer SERVICE_ROLE_KEY en el frontend. Solo usar en backend o scripts administrativos.
                </div>
            </section>

            <!-- Flujos de Usuario -->
            <section id="flujos">
                <h2>üîÑ Flujos de Usuario Principales</h2>

                <div class="card">
                    <h4>1. Gesti√≥n de Inventario (FIFO)</h4>
                    <ol>
                        <li><strong>Ver stock:</strong> <code>/inventory</code> ‚Üí Lista de ingredientes con cantidades</li>
                        <li><strong>Entrada de mercanc√≠a:</strong>
                            <ul>
                                <li>Escanear factura con IA ‚Üí Parse autom√°tico</li>
                                <li>O entrada manual</li>
                                <li>Asignaci√≥n de lote y caducidad</li>
                                <li>Actualizaci√≥n de stock FIFO</li>
                            </ul>
                        </li>
                        <li><strong>Alertas:</strong> Stock bajo ‚Üí Notificaci√≥n ‚Üí Crear orden de compra</li>
                    </ol>
                </div>

                <div class="card">
                    <h4>2. Creaci√≥n de Ficha T√©cnica</h4>
                    <ol>
                        <li><code>/fichas</code> ‚Üí Nueva ficha</li>
                        <li>Seleccionar ingredientes del cat√°logo</li>
                        <li>Definir cantidades</li>
                        <li><strong>IA calcula autom√°ticamente:</strong>
                            <ul>
                                <li>Costo total</li>
                                <li>Informaci√≥n nutricional</li>
                                <li>Al√©rgenos</li>
                            </ul>
                        </li>
                        <li>A√±adir pasos de preparaci√≥n</li>
                        <li>Subir fotos</li>
                        <li>Guardar y versionar</li>
                    </ol>
                </div>

                <div class="card">
                    <h4>3. Producci√≥n con KDS</h4>
                    <ol>
                        <li>Chef recibe √≥rdenes en <code>/kds</code></li>
                        <li>Pantalla tipo Kanban: <strong>Pendiente ‚Üí En Producci√≥n ‚Üí Listo</strong></li>
                        <li>Arrastrar tarjetas entre columnas</li>
                        <li>Timer autom√°tico por plato</li>
                        <li>Notificaciones de servicio</li>
                    </ol>
                </div>

                <div class="card">
                    <h4>4. An√°lisis de Men√∫ (Matriz de Boston)</h4>
                    <ol>
                        <li><code>/menu-engineering</code></li>
                        <li>Visualizaci√≥n Matriz de Boston:
                            <ul>
                                <li><strong>‚≠ê Estrellas:</strong> ‚Üëpopularidad + ‚Üërentabilidad</li>
                                <li><strong>üêÆ Vacas Lecheras:</strong> ‚Üìpopularidad + ‚Üërentabilidad</li>
                                <li><strong>‚ùì Interrogantes:</strong> ‚Üëpopularidad + ‚Üìrentabilidad</li>
                                <li><strong>üêï Perros:</strong> ‚Üìpopularidad + ‚Üìrentabilidad</li>
                            </ul>
                        </li>
                        <li>Recomendaciones de optimizaci√≥n:
                            <ul>
                                <li>Subir precio</li>
                                <li>Reducir costo</li>
                                <li>Promocionar</li>
                                <li>Eliminar</li>
                            </ul>
                        </li>
                    </ol>
                </div>
            </section>

            <!-- Seguridad -->
            <section id="seguridad">
                <h2>üîê Seguridad y Permisos</h2>

                <h3>Roles de Usuario</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Rol</th>
                            <th>Permisos</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Admin</strong></td>
                            <td>Acceso total, gesti√≥n de usuarios, configuraci√≥n</td>
                        </tr>
                        <tr>
                            <td><strong>Manager</strong></td>
                            <td>Gesti√≥n operativa, reportes, compras</td>
                        </tr>
                        <tr>
                            <td><strong>Chef</strong></td>
                            <td>Producci√≥n, recetas, inventario de lectura</td>
                        </tr>
                        <tr>
                            <td><strong>Staff</strong></td>
                            <td>Lectura limitada, KDS</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Row Level Security (RLS)</h3>
                <div class="card">
                    <ul>
                        <li>Pol√≠ticas en Supabase por outlet</li>
                        <li>Los usuarios solo ven datos de su(s) outlet(s)</li>
                        <li>Auditor√≠a de cambios con timestamps</li>
                        <li>Protecci√≥n contra accesos no autorizados</li>
                    </ul>
                </div>

                <h3>Autenticaci√≥n</h3>
                <div class="card">
                    <ul>
                        <li><strong>JWT</strong> con Supabase Auth</li>
                        <li>Refresh tokens autom√°ticos</li>
                        <li>Session timeout configurable</li>
                        <li>SSO disponible (Google, Azure)</li>
                    </ul>
                </div>
            </section>

            <!-- KPIs -->
            <section id="kpis">
                <h2>üìä KPIs y M√©tricas</h2>

                <h3>Dashboard Principal</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-number">üí∞</span>
                        <span class="stat-label">Ventas del D√≠a</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">üìâ</span>
                        <span class="stat-label">Food Cost %</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">üóëÔ∏è</span>
                        <span class="stat-label">Mermas</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">üë•</span>
                        <span class="stat-label">Personal Activo</span>
                    </div>
                </div>

                <h3>Analytics Avanzados</h3>
                <div class="feature-list">
                    <div class="feature-item">
                        <strong>Tendencias de ventas:</strong> An√°lisis d√≠a/semana/mes
                    </div>
                    <div class="feature-item">
                        <strong>Food cost evolution:</strong> Evoluci√≥n hist√≥rica de costos
                    </div>
                    <div class="feature-item">
                        <strong>Popularidad de platos:</strong> Ranking de platos m√°s vendidos
                    </div>
                    <div class="feature-item">
                        <strong>Rentabilidad por categor√≠a:</strong> An√°lisis por tipo de plato
                    </div>
                    <div class="feature-item">
                        <strong>Rotaci√≥n de inventario:</strong> Velocidad de movimiento de stock
                    </div>
                    <div class="feature-item">
                        <strong>Productividad del personal:</strong> M√©tricas de eficiencia
                    </div>
                </div>
            </section>

            <!-- Instalaci√≥n -->
            <section id="instalacion">
                <h2>üöÄ Instalaci√≥n y Configuraci√≥n</h2>

                <h3>Prerrequisitos</h3>
                <div class="card">
                    <ul>
                        <li>Node.js >= 20.0.0</li>
                        <li>pnpm >= 9.0.0</li>
                        <li>Git</li>
                    </ul>
                </div>

                <h3>Instalaci√≥n</h3>
                <pre><code># Clonar el repositorio
git clone https://github.com/tu-repo/chefos-v2.git
cd chefos-v2

# Instalar dependencias
pnpm install

# Copiar variables de entorno
cp packages/web/.env.example packages/web/.env

# Configurar credenciales de Supabase
# Editar packages/web/.env con tus credenciales

# Iniciar servidor de desarrollo
pnpm dev</code></pre>

                <h3>Variables de Entorno</h3>
                <pre><code># Supabase
VITE_SUPA_URL=https://xrgewhvijmrthsnrrxdw.supabase.co
VITE_SUPA_KEY=tu_anon_key_aqui

# Firebase (Legacy)
VITE_FIREBASE_API_KEY=tu_firebase_api_key
VITE_FIREBASE_PROJECT_ID=tu_project_id

# Gemini AI
VITE_GEMINI_API_KEY=tu_gemini_api_key</code></pre>

                <h3>Scripts Disponibles</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Comando</th>
                            <th>Descripci√≥n</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>pnpm dev</code></td>
                            <td>Inicia el servidor de desarrollo</td>
                        </tr>
                        <tr>
                            <td><code>pnpm build</code></td>
                            <td>Compila todos los packages</td>
                        </tr>
                        <tr>
                            <td><code>pnpm test</code></td>
                            <td>Ejecuta tests unitarios</td>
                        </tr>
                        <tr>
                            <td><code>pnpm lint</code></td>
                            <td>Ejecuta el linter</td>
                        </tr>
                        <tr>
                            <td><code>pnpm format</code></td>
                            <td>Formatea el c√≥digo</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Acceso a Herramientas Admin</h3>
                <div class="alert alert-success">
                    <strong>Panel Web de Supabase:</strong><br>
                    Abre <code>supabase-admin-panel.html</code> en tu navegador para acceso visual completo a la base de datos.
                </div>
            </section>

            <!-- Recursos Adicionales -->
            <section>
                <h2>üìö Recursos Adicionales</h2>

                <div class="card-grid">
                    <div class="card">
                        <h4>üìñ Documentaci√≥n</h4>
                        <ul>
                            <li><strong>README.md:</strong> Gu√≠a r√°pida</li>
                            <li><strong>ARCHITECTURE.md:</strong> Arquitectura detallada</li>
                            <li><strong>CONTRIBUTING.md:</strong> Gu√≠a de contribuci√≥n</li>
                            <li><strong>CHANGELOG.md:</strong> Historial de versiones</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h4>üîó Enlaces √ötiles</h4>
                        <ul>
                            <li><strong>Dashboard Supabase:</strong><br>
                                <a href="https://supabase.com/dashboard/project/xrgewhvijmrthsnrrxdw" target="_blank">
                                    Ver Dashboard
                                </a>
                            </li>
                            <li><strong>Documentaci√≥n Supabase:</strong><br>
                                <a href="https://supabase.com/docs" target="_blank">
                                    Docs oficiales
                                </a>
                            </li>
                            <li><strong>Gemini AI:</strong><br>
                                <a href="https://ai.google.dev" target="_blank">
                                    Google AI Studio
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Roadmap -->
            <section>
                <h2>üó∫Ô∏è Roadmap Futuro</h2>

                <div class="feature-list">
                    <div class="feature-item">
                        <strong>Multi-idioma:</strong> i18n con react-i18next
                    </div>
                    <div class="feature-item">
                        <strong>Multi-moneda:</strong> Conversi√≥n autom√°tica
                    </div>
                    <div class="feature-item">
                        <strong>Forecasting ML:</strong> Predicci√≥n de demanda con Machine Learning
                    </div>
                    <div class="feature-item">
                        <strong>Integraci√≥n contable:</strong> Sage, QuickBooks
                    </div>
                    <div class="feature-item">
                        <strong>App m√≥vil nativa:</strong> React Native
                    </div>
                    <div class="feature-item">
                        <strong>Voice commands:</strong> Para KDS
                    </div>
                    <div class="feature-item">
                        <strong>Computer Vision:</strong> Control de calidad con reconocimiento de im√°genes
                    </div>
                    <div class="feature-item">
                        <strong>Blockchain:</strong> Trazabilidad inmutable
                    </div>
                </div>
            </section>

        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong>ChefOS v2.0</strong> - Documentaci√≥n Completa</p>
            <p>üìÖ √öltima actualizaci√≥n: 4 de Enero de 2026</p>
            <p>ü§ñ Generado con <a href="https://claude.com" target="_blank">Claude Code</a></p>
            <p style="margin-top: 15px; font-size: 0.9rem;">
                Para m√°s informaci√≥n, consulta el repositorio o contacta con el equipo de desarrollo.
            </p>
            <p style="margin-top: 10px;">
                <strong>¬© 2026 ChefOS - Todos los derechos reservados</strong>
            </p>
        </div>
    </div>

    <script>
        // Smooth scrolling para navegaci√≥n
        document.querySelectorAll('.nav a, .toc a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // Bot√≥n para imprimir/exportar a PDF
        const printButton = document.createElement('button');
        printButton.textContent = 'üìÑ Exportar a PDF';
        printButton.style.cssText = `
            position: fixed;
            bottom: 30px;
            right: 30px;
            padding: 15px 25px;
            background: linear-gradient(135deg, #22c55e 0%, #10b981 100%);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(34, 197, 94, 0.3);
            z-index: 1000;
            transition: all 0.3s;
        `;
        printButton.onmouseover = () => {
            printButton.style.transform = 'translateY(-5px)';
            printButton.style.boxShadow = '0 15px 40px rgba(34, 197, 94, 0.4)';
        };
        printButton.onmouseout = () => {
            printButton.style.transform = 'translateY(0)';
            printButton.style.boxShadow = '0 10px 30px rgba(34, 197, 94, 0.3)';
        };
        printButton.onclick = () => window.print();
        document.body.appendChild(printButton);
    </script>
</body>
</html>
